<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkVault - Your Beautiful Link Storage</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #f43f5e;
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #94a3b8;
            --glass: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            min-height: 100vh;
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: var(--light);
            padding: 1rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        /* Header */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 0;
            margin-bottom: 1rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.5rem;
            font-weight: 700;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .logo i {
            font-size: 1.75rem;
        }

        /* Add Link Form */
        .add-link-form {
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        .add-link-form:hover {
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
        }

        .form-group {
            display: flex;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .input-group {
            flex: 1;
            position: relative;
        }

        .input-group input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 0.5rem;
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .input-group input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.3);
        }

        .input-group input::placeholder {
            color: var(--gray);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* Stats */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 0.75rem;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
        }

        .stat-card h3 {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--gray);
            margin-bottom: 0.5rem;
        }

        .stat-card p {
            font-size: 1.75rem;
            font-weight: 700;
        }

        /* Search */
        .search-container {
            margin-bottom: 1.5rem;
        }

        .search-input {
            width: 100%;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 0.5rem;
            color: var(--light);
            font-size: 1rem;
            transition: all 0.3s ease;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%2394a3b8' viewBox='0 0 16 16'%3E%3Cpath d='M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: 1rem center;
            background-size: 1rem;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.3);
        }

        /* Links Grid */
        .links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .link-card {
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 0.75rem;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .link-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
        }

        .thumbnail-container {
            height: 160px;
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(244, 63, 94, 0.1));
        }

        .thumbnail {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .link-card:hover .thumbnail {
            transform: scale(1.05);
        }

        .thumbnail-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--gray);
            background: rgba(255, 255, 255, 0.05);
        }

        .thumbnail-placeholder i {
            font-size: 2.5rem;
        }

        .thumbnail-spinner {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        .link-content {
            padding: 1.25rem;
        }

        .link-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.75rem;
        }

        .link-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--light);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .link-url {
            font-size: 0.875rem;
            color: var(--gray);
            margin-bottom: 0.75rem;
            display: block;
            word-break: break-all;
        }

        .link-description {
            font-size: 0.875rem;
            color: var(--gray);
            margin-bottom: 1rem;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .link-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.75rem;
            color: var(--gray);
        }

        .link-domain {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .link-actions {
            display: flex;
            gap: 0.5rem;
        }

        .action-btn {
            background: none;
            border: none;
            color: var(--gray);
            cursor: pointer;
            transition: all 0.2s ease;
            width: 28px;
            height: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--light);
        }

        .action-btn.delete:hover {
            color: var(--secondary);
        }

        .action-btn.copy:hover {
            color: var(--primary);
        }

        /* Empty State */
        .empty-state {
            grid-column: 1 / -1;
            text-align: center;
            padding: 3rem 1rem;
            background: var(--glass);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            border-radius: 0.75rem;
        }

        .empty-state i {
            font-size: 3rem;
            color: var(--gray);
            margin-bottom: 1rem;
        }

        .empty-state h3 {
            font-size: 1.25rem;
            margin-bottom: 0.5rem;
            color: var(--light);
        }

        .empty-state p {
            color: var(--gray);
            max-width: 400px;
            margin: 0 auto 1.5rem;
        }

        /* Toast */
        .toast-container {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .toast {
            background: var(--dark);
            color: var(--light);
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            animation: slideIn 0.3s ease-out;
            transform: translateX(100%);
            opacity: 0;
        }

        .toast.show {
            transform: translateX(0);
            opacity: 1;
        }

        .toast.hide {
            animation: slideOut 0.3s ease-in;
        }

        .toast.success {
            border-left: 4px solid #10b981;
        }

        .toast.error {
            border-left: 4px solid #f43f5e;
        }

        .toast.warning {
            border-left: 4px solid #f59e0b;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOut {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(100%);
                opacity: 0;
            }
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal {
            background: var(--dark);
            border-radius: 0.75rem;
            width: 90%;
            max-width: 400px;
            padding: 1.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.2);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .modal-overlay.active .modal {
            transform: translateY(0);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
        }

        .modal-close {
            background: none;
            border: none;
            color: var(--gray);
            font-size: 1.25rem;
            cursor: pointer;
        }

        .modal-body {
            margin-bottom: 1.5rem;
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .form-group {
                flex-direction: column;
                gap: 1rem;
            }

            .stats {
                grid-template-columns: 1fr 1fr;
            }

            .links-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .stats {
                grid-template-columns: 1fr;
            }

            header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-link"></i>
                <span>LinkVault</span>
            </div>
            <div class="stats">
                <div class="stat-card">
                    <h3>Total Links</h3>
                    <p id="total-links">0</p>
                </div>
                <div class="stat-card">
                    <h3>Links Today</h3>
                    <p id="links-today">0</p>
                </div>
                <div class="stat-card">
                    <h3>Unique Domains</h3>
                    <p id="unique-domains">0</p>
                </div>
            </div>
        </header>

        <div class="add-link-form">
            <div class="form-group">
                <div class="input-group">
                    <input type="text" id="link-url" placeholder="Paste a URL here..." required>
                </div>
                <button id="add-link-btn" class="btn btn-primary">
                    <i class="fas fa-plus"></i> Add Link
                </button>
            </div>
            <div class="form-group">
                <div class="input-group">
                    <input type="text" id="link-title" placeholder="Custom title (optional)">
                </div>
            </div>
        </div>

        <div class="search-container">
            <input type="text" class="search-input" id="search-input" placeholder="Search your links...">
        </div>

        <div class="links-grid" id="links-container">
            <!-- Links will be added here dynamically -->
            <div class="empty-state">
                <i class="fas fa-link"></i>
                <h3>Your LinkVault is empty</h3>
                <p>Start by adding your first link above. We'll automatically generate a thumbnail and extract metadata.</p>
                <button class="btn btn-primary" id="add-demo-btn">
                    <i class="fas fa-magic"></i> Add Demo Links
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="delete-modal">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title">Delete Link</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <p>Are you sure you want to delete this link? This action cannot be undone.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-delete">Cancel</button>
                <button class="btn btn-primary" id="confirm-delete">Delete</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const linksContainer = document.getElementById('links-container');
            const addLinkBtn = document.getElementById('add-link-btn');
            const linkUrlInput = document.getElementById('link-url');
            const linkTitleInput = document.getElementById('link-title');
            const searchInput = document.getElementById('search-input');
            const totalLinksEl = document.getElementById('total-links');
            const linksTodayEl = document.getElementById('links-today');
            const uniqueDomainsEl = document.getElementById('unique-domains');
            const addDemoBtn = document.getElementById('add-demo-btn');
            const toastContainer = document.getElementById('toast-container');
            const deleteModal = document.getElementById('delete-modal');
            const modalClose = document.getElementById('modal-close');
            const cancelDelete = document.getElementById('cancel-delete');
            const confirmDelete = document.getElementById('confirm-delete');

            // State
            let links = [];
            let currentLinkToDelete = null;
            let demoLinksAdded = false;

            // Initialize
            loadLinks();
            updateStats();
            renderLinks();

            // Event Listeners
            addLinkBtn.addEventListener('click', addLink);
            linkUrlInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') addLink();
            });
            searchInput.addEventListener('input', filterLinks);
            addDemoBtn.addEventListener('click', addDemoLinks);
            modalClose.addEventListener('click', closeDeleteModal);
            cancelDelete.addEventListener('click', closeDeleteModal);
            confirmDelete.addEventListener('click', deleteLink);

            // Functions
            function loadLinks() {
                const savedLinks = localStorage.getItem('linkvault-links');
                if (savedLinks) {
                    links = JSON.parse(savedLinks);
                }
            }

            function saveLinks() {
                localStorage.setItem('linkvault-links', JSON.stringify(links));
            }

            function updateStats() {
                totalLinksEl.textContent = links.length;
                
                // Count links added today
                const today = new Date().toDateString();
                const todayLinks = links.filter(link => {
                    return new Date(link.addedAt).toDateString() === today;
                });
                linksTodayEl.textContent = todayLinks.length;
                
                // Count unique domains
                const domains = new Set();
                links.forEach(link => {
                    try {
                        const url = new URL(link.url);
                        domains.add(url.hostname.replace('www.', ''));
                    } catch (e) {
                        // Invalid URL, skip
                    }
                });
                uniqueDomainsEl.textContent = domains.size;
            }

            function renderLinks(filteredLinks = null) {
                const linksToRender = filteredLinks || links;
                
                if (linksToRender.length === 0) {
                    linksContainer.innerHTML = `
                        <div class="empty-state">
                            <i class="fas fa-link"></i>
                            <h3>${filteredLinks ? 'No matching links found' : 'Your LinkVault is empty'}</h3>
                            <p>${filteredLinks ? 'Try a different search term' : 'Start by adding your first link above. We\'ll automatically generate a thumbnail and extract metadata.'}</p>
                            ${!filteredLinks ? '<button class="btn btn-primary" id="add-demo-btn"><i class="fas fa-magic"></i> Add Demo Links</button>' : ''}
                        </div>
                    `;
                    if (!filteredLinks) {
                        document.getElementById('add-demo-btn').addEventListener('click', addDemoLinks);
                    }
                    return;
                }
                
                linksContainer.innerHTML = '';
                
                linksToRender.forEach((link, index) => {
                    const linkCard = document.createElement('div');
                    linkCard.className = 'link-card';
                    linkCard.dataset.id = link.id;
                    
                    // Format date
                    const dateAdded = new Date(link.addedAt);
                    const today = new Date();
                    const yesterday = new Date(today);
                    yesterday.setDate(yesterday.getDate() - 1);
                    
                    let dateText;
                    if (dateAdded.toDateString() === today.toDateString()) {
                        dateText = 'Today';
                    } else if (dateAdded.toDateString() === yesterday.toDateString()) {
                        dateText = 'Yesterday';
                    } else {
                        const diffDays = Math.floor((today - dateAdded) / (1000 * 60 * 60 * 24));
                        dateText = `${diffDays} days ago`;
                    }
                    
                    // Extract domain
                    let domain = '';
                    try {
                        const url = new URL(link.url);
                        domain = url.hostname.replace('www.', '');
                    } catch (e) {
                        domain = 'unknown';
                    }
                    
                    linkCard.innerHTML = `
                        <div class="thumbnail-container">
                            ${link.thumbnail ? 
                                `<img src="${link.thumbnail}" alt="Thumbnail" class="thumbnail" onerror="this.parentElement.innerHTML = '<div class=\'thumbnail-placeholder\'><i class=\'fas fa-image\'></i></div>'">` : 
                                `<div class="thumbnail-placeholder"><i class="fas fa-image"></i></div>`}
                        </div>
                        <div class="link-content">
                            <div class="link-header">
                                <h3 class="link-title">${link.title || 'Untitled Link'}</h3>
                                <div class="link-actions">
                                    <button class="action-btn copy" title="Copy URL" data-id="${link.id}">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="action-btn delete" title="Delete" data-id="${link.id}">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            <a href="${link.url}" target="_blank" rel="noopener noreferrer" class="link-url">${link.url}</a>
                            ${link.description ? `<p class="link-description">${link.description}</p>` : ''}
                            <div class="link-meta">
                                <span class="link-domain">
                                    <i class="fas fa-globe"></i> ${domain}
                                </span>
                                <span>${dateText}</span>
                            </div>
                        </div>
                    `;
                    
                    linksContainer.appendChild(linkCard);
                });
                
                // Add event listeners to action buttons
                document.querySelectorAll('.action-btn.copy').forEach(btn => {
                    btn.addEventListener('click', copyLink);
                });
                
                document.querySelectorAll('.action-btn.delete').forEach(btn => {
                    btn.addEventListener('click', confirmDeleteLink);
                });
            }

            function filterLinks() {
                const searchTerm = searchInput.value.toLowerCase();
                if (!searchTerm) {
                    renderLinks();
                    return;
                }
                
                const filtered = links.filter(link => {
                    return (
                        (link.title && link.title.toLowerCase().includes(searchTerm)) ||
                        (link.url && link.url.toLowerCase().includes(searchTerm)) ||
                        (link.description && link.description.toLowerCase().includes(searchTerm))
                    );
                });
                
                renderLinks(filtered);
            }

            async function addLink() {
                const url = linkUrlInput.value.trim();
                const customTitle = linkTitleInput.value.trim();
                
                if (!url) {
                    showToast('Please enter a URL', 'error');
                    linkUrlInput.focus();
                    return;
                }
                
                // Validate URL
                try {
                    new URL(url);
                } catch (e) {
                    showToast('Please enter a valid URL', 'error');
                    linkUrlInput.focus();
                    return;
                }
                
                // Check for duplicate
                if (links.some(link => link.url === url)) {
                    showToast('This link already exists', 'warning');
                    return;
                }
                
                // Disable button and show loading
                addLinkBtn.disabled = true;
                addLinkBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Adding...';
                
                try {
                    // Simulate thumbnail generation and metadata extraction
                    const metadata = await extractMetadata(url);
                    
                    const newLink = {
                        id: Date.now().toString(),
                        url,
                        title: customTitle || metadata.title,
                        description: metadata.description,
                        thumbnail: metadata.image || await generateThumbnail(url),
                        addedAt: new Date().toISOString()
                    };
                    
                    links.unshift(newLink);
                    saveLinks();
                    updateStats();
                    renderLinks();
                    
                    // Reset form
                    linkUrlInput.value = '';
                    linkTitleInput.value = '';
                    
                    showToast('Link added successfully', 'success');
                } catch (error) {
                    console.error('Error adding link:', error);
                    showToast('Failed to add link', 'error');
                } finally {
                    addLinkBtn.disabled = false;
                    addLinkBtn.innerHTML = '<i class="fas fa-plus"></i> Add Link';
                }
            }

            function copyLink(e) {
                const linkId = e.currentTarget.dataset.id;
                const link = links.find(l => l.id === linkId);
                
                if (link) {
                    navigator.clipboard.writeText(link.url)
                        .then(() => {
                            showToast('Link copied to clipboard', 'success');
                        })
                        .catch(() => {
                            showToast('Failed to copy link', 'error');
                        });
                }
            }

            function confirmDeleteLink(e) {
                currentLinkToDelete = e.currentTarget.dataset.id;
                deleteModal.classList.add('active');
            }

            function closeDeleteModal() {
                deleteModal.classList.remove('active');
                currentLinkToDelete = null;
            }

            function deleteLink() {
                if (!currentLinkToDelete) return;
                
                const index = links.findIndex(link => link.id === currentLinkToDelete);
                if (index !== -1) {
                    links.splice(index, 1);
                    saveLinks();
                    updateStats();
                    
                    // Check if we're currently filtering
                    if (searchInput.value) {
                        filterLinks();
                    } else {
                        renderLinks();
                    }
                    
                    showToast('Link deleted', 'success');
                }
                
                closeDeleteModal();
            }

            function addDemoLinks() {
                if (demoLinksAdded) {
                    showToast('Demo links already added', 'warning');
                    return;
                }
                
                const demoLinks = [
                    {
                        url: 'https://github.com',
                        title: 'GitHub',
                        description: 'GitHub is where over 100 million developers shape the future of software, together.',
                        thumbnail: 'https://opengraph.githubassets.com/1/github'
                    },
                    {
                        url: 'https://stackoverflow.com',
                        title: 'Stack Overflow',
                        description: 'Stack Overflow is the largest, most trusted online community for developers to learn, share their programming knowledge.',
                        thumbnail: 'https://cdn.sstatic.net/Sites/stackoverflow/Img/apple-touch-icon@2.png'
                    },
                    {
                        url: 'https://developer.mozilla.org',
                        title: 'MDN Web Docs',
                        description: 'The MDN Web Docs site provides information about Open Web technologies including HTML, CSS, and APIs for both Web sites and progressive web apps.',
                        thumbnail: 'https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png'
                    },
                    {
                        url: 'https://css-tricks.com',
                        title: 'CSS-Tricks',
                        description: 'CSS-Tricks is a website about websites. Daily articles about CSS, HTML, JavaScript, and all things related to web design and development.',
                        thumbnail: 'https://css-tricks.com/apple-touch-icon.png'
                    },
                    {
                        url: 'https://www.freecodecamp.org',
                        title: 'freeCodeCamp',
                        description: 'Learn to code for free. Build projects. Earn certifications. Since 2014, more than 40,000 freeCodeCamp.org graduates have gotten jobs at tech companies.',
                        thumbnail: 'https://www.freecodecamp.org/icons/icon-512x512.png'
                    },
                    {
                        url: 'https://dev.to',
                        title: 'DEV Community',
                        description: 'A constructive and inclusive social network for software developers. With you every step of your journey.',
                        thumbnail: 'https://res.cloudinary.com/practicaldev/image/fetch/s--t7tVouP9--/c_limit,f_auto,fl_progressive,q_80,w_180/https://practicaldev-herokuapp-com.freetls.fastly.net/assets/devlogo-pwa-512.png'
                    }
                ];
                
                demoLinks.forEach((demoLink, i) => {
                    setTimeout(() => {
                        const newLink = {
                            id: `demo-${Date.now() + i}`,
                            url: demoLink.url,
                            title: demoLink.title,
                            description: demoLink.description,
                            thumbnail: demoLink.thumbnail,
                            addedAt: new Date(Date.now() - (i * 3600000)).toISOString() // Stagger times
                        };
                        
                        links.unshift(newLink);
                        saveLinks();
                        
                        if (i === demoLinks.length - 1) {
                            updateStats();
                            renderLinks();
                            demoLinksAdded = true;
                            showToast('Demo links added', 'success');
                        }
                    }, i * 200);
                });
            }

            // Simulated API functions
            async function extractMetadata(url) {
                // In a real app, you would call an API here
                return new Promise(resolve => {
                    setTimeout(() => {
                        const fakeMetadata = {
                            title: getRandomTitle(url),
                            description: getRandomDescription(),
                            image: Math.random() > 0.3 ? getRandomImage(url) : null // 30% chance of no image
                        };
                        resolve(fakeMetadata);
                    }, 800);
                });
            }

            async function generateThumbnail(url) {
                // In a real app, you would call a screenshot API here
                return new Promise(resolve => {
                    setTimeout(() => {
                        // 10% chance of failure to simulate errors
                        if (Math.random() < 0.1) {
                            resolve(null);
                        } else {
                            resolve(getRandomImage(url));
                        }
                    }, 1500);
                });
            }

            function getRandomTitle(url) {
                const domain = new URL(url).hostname.replace('www.', '').replace('.com', '');
                const prefixes = ['Awesome', 'Great', 'Useful', 'Interesting', 'Helpful', 'Must-see'];
                const suffixes = ['Resource', 'Website', 'Page', 'Guide', 'Tutorial', 'Reference'];
                
                const randomPrefix = prefixes[Math.floor(Math.random() * prefixes.length)];
                const randomSuffix = suffixes[Math.floor(Math.random() * suffixes.length)];
                
                return `${randomPrefix} ${domain} ${randomSuffix}`;
            }

            function getRandomDescription() {
                const descriptions = [
                    'This is a fantastic resource for learning and development.',
                    'A must-bookmark site for any serious developer.',
                    'Packed with useful information and tutorials.',
                    'One of the best resources available on this topic.',
                    'Regularly updated with fresh content and examples.',
                    'The community around this resource is very helpful.',
                    'Great for beginners and experienced developers alike.'
                ];
                
                return descriptions[Math.floor(Math.random() * descriptions.length)];
            }

            function getRandomImage(url) {
                const domain = new URL(url).hostname.replace('www.', '').replace('.com', '');
                const colors = ['6366f1', 'f43f5e', '10b981', 'f59e0b', '3b82f6'];
                const color = colors[Math.floor(Math.random() * colors.length)];
                
                return `https://via.placeholder.com/600x400/${color}/ffffff?text=${encodeURIComponent(domain)}`;
            }

            function showToast(message, type = 'success') {
                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.innerHTML = `
                    <i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-exclamation-triangle'}"></i>
                    <span>${message}</span>
                `;
                
                toastContainer.appendChild(toast);
                
                // Trigger reflow to enable animation
                void toast.offsetWidth;
                
                toast.classList.add('show');
                
                // Auto-dismiss after 3 seconds
                setTimeout(() => {
                    toast.classList.remove('show');
                    toast.classList.add('hide');
                    
                    // Remove after animation completes
                    setTimeout(() => {
                        toast.remove();
                    }, 300);
                }, 3000);
            }
        });
    </script>
</body>
</html>